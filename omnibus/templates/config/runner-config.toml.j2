concurrent = {{ runner_concurrent }}
check_interval = 3

[session_server]
  session_timeout = 1800

[[runners]]
  name = "kodecd-runner"
  url = "{{ external_url }}"
  token = "{{ runner_token }}"
  executor = "{{ runner_executor }}"

  [runners.docker]
    tls_verify = false
    image = "ruby:3.4"
    privileged = false
    disable_entrypoint_overwrite = false
    oom_kill_disable = false
    disable_cache = false
    volumes = ["/cache", "/var/run/docker.sock:/var/run/docker.sock"]
    shm_size = 0

  [runners.cache]
    Type = "s3"
    Shared = true
    [runners.cache.s3]
      ServerAddress = "{{ external_url }}"
      AccessKey = "runner"
      SecretKey = "{{ runner_token }}"
      BucketName = "runner-cache"
